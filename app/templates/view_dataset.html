<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>{{ dataset.name }}</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/satic/assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/static/css/styles.css" rel="stylesheet" />
  </head>
  <body class="d-flex flex-column h-100">
    <main class="flex-shrink-0">
      <!-- Navigation-->
      {% include 'navigation.html' %} {% include 'flash.html' %}
      <!-- Page Content-->
      <section class="py-5">
        <div class="container px-5 my-5">
          <div class="text-center mb-5">
            <h1 class="fw-bolder">{{ dataset.name }}</h1>
            <p class="lead fw-normal text-muted mb-0">Viewing dataset</p>
          </div>
          <div class="row gx-5">
            <!-- FAQ Accordion 1-->
            <!-- <h2 class="fw-bolder mb-3">Account &amp; Billing</h2> -->
            <div class="accordion mb-5" id="accordionExample">
              <div class="accordion-item">
                <h3 class="accordion-header" id="headingOne">
                  <button
                    class="accordion-button"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseOne"
                    aria-expanded="true"
                    aria-controls="collapseOne"
                  >
                    {{ dataset.name }}
                  </button>
                </h3>
                <div
                  class="accordion-collapse collapse show"
                  id="collapseOne"
                  aria-labelledby="headingOne"
                  data-bs-parent="#accordionExample"
                >
                  <div class="accordion-body">
                    <strong>Contains {{ dataset.rows | length }} rows</strong>
                    <br />
                    {{ dataset.description }}
                    <br />
                    <br />
                    <a
                      href="/dataset/code/{{ dataset.id }}"
                      class="btn btn-outline-dark"
                      >Code</a
                    >
                    <a
                      href="/dataset/{{ dataset.id }}"
                      class="btn btn-outline-dark"
                      >Open</a
                    >
                    <input
                      href="/dataset/export/{{ dataset.id }}"
                      class="btn btn-outline-dark"
                      type="submit"
                      value="Export"
                      form="{{ dataset.id }}"
                    />
                    <form
                      action="/dataset/export"
                      method="POST"
                      id="{{dataset.id}}"
                      hidden
                    >
                      <input
                        name="dataset_id"
                        value="{{ dataset.id }}"
                        type="hidden"
                      />
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <br />
          <div class="text-center mb-5">
            <h1 class="fw-bolder h4">Data Types</h1>
          </div>
          <div>
            <form id="types" action="/dataset/update" method="post">
                <input type="hidden" name="dataset_id" value="{{ dataset.id }}">
                {% for column in dataset.columns %}
                <div class="input-group">
                  <div class="input-group-prepend col-5">
                    <span class="input-group-text col-12"> {{ column.name }} </span>
                  </div>
                  <select name="{{ column.name }}" class="form-select" aria-label="Default select example">
                    <option>Select Data Type</option>
                    <option {{ 'selected' if column.type.value == SOCIAL_MEDIA else '' }} value="SOCIAL_MEDIA">Social Media URL</option>
                    <option {{ 'selected' if column.type.value == STRING else '' }} value="STRING">Text</option>
                    <option {{ 'selected' if column.type.value == NUMBER else ''}} value="NUMBER">Number</option>
                  </select>
                </div>
                <br />
                {% endfor %}
            </form>
          </div>

          <div class="row gx-5">
            <input type=submit form="types" href="/dataset/update" class="btn btn-outline-dark" value="Update dataset"/>
          </div>
        </div>
      </section>
    </main>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
